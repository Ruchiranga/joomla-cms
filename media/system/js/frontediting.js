var actualWidth=200,actualHeight=100,tooltipPlacer=function(t,e){$=jQuery;var o,i,n,a,d,l,r,u,c,p,s,h,m,f,v;return h=function(t){return r<t.top&&d<t.left&&l>t.left+actualWidth&&a>t.top+actualHeight},o=$(e),f=$.extend({},o.offset(),{width:e.offsetWidth,height:e.offsetHeight}),r=$(document).scrollTop(),d=$(document).scrollLeft(),l=d+$(window).width(),a=r+$(window).height(),u={top:f.top-actualHeight,left:f.left+f.width/2-actualWidth/2},c={top:f.top+f.height,left:f.left+f.width/2-actualWidth/2},p={top:f.top+f.height/2-actualHeight/2,left:f.left-actualWidth},s={top:f.top+f.height/2-actualHeight/2,left:f.left+f.width},i=h(u),n=h(c),m=h(p),v=h(s),i?"top":n?"bottom":m?"left":"right"},frontEditing=function(){!function(t){t(".jmoddiv").on({mouseenter:function(){var e=t(this).data("jmodediturl"),o=t(this).data("jmodtip"),i=t(this).data("target");t("body>.btn.jmodedit").clearQueue().tooltip("destroy").remove(),t(this).addClass("jmodinside").prepend('<a class="btn jmodedit" href="#" target="'+i+'"><span class="icon-edit"></span></a>').children(":first").attr("href",e).attr("title",o).tooltip({container:!1,html:!0,placement:tooltipPlacer}).jEditMakeAbsolute(!0),t(".btn.jmodedit").on({mouseenter:function(){t(this).clearQueue()},mouseleave:function(){t(this).delay(500).queue(function(e){t(this).tooltip("destroy").remove(),e()})}})},mouseleave:function(){t("body>.btn.jmodedit").delay(500).queue(function(e){t(this).tooltip("destroy").remove(),e()})}});var e=null;t(".jmoddiv[data-jmenuedittip] .nav li,.jmoddiv[data-jmenuedittip].nav li,.jmoddiv[data-jmenuedittip] .nav .nav-child li,.jmoddiv[data-jmenuedittip].nav .nav-child li").on({mouseenter:function(){var o=/\bitem-(\d+)\b/.exec(t(this).attr("class"));if("string"==typeof o[1])var i=t(this).closest(".jmoddiv"),n=i.data("jmodediturl"),a=n.replace(/\/index.php\?option=com_config&controller=config.display.modules([^\d]+).+$/,"/administrator/index.php?option=com_menus&view=item&layout=edit$1"+o[1]);var d=i.data("jmenuedittip").replace("%s",o[1]),l=t('<div><a class="btn jfedit-menu" href="#" target="_blank"><span class="icon-edit"></span></a></div>');l.children("a.jfedit-menu").prop("href",a).prop("title",d),e&&t(e).popover("hide"),t(this).popover({html:!0,content:l.html(),container:"body",trigger:"manual",animation:!1,placement:"bottom"}).popover("show"),e=this,t("body>div.popover").on({mouseenter:function(){e&&t(e).clearQueue()},mouseleave:function(){e&&t(e).popover("hide")}}).find("a.jfedit-menu").tooltip({container:!1,html:!0,placement:"bottom"})},mouseleave:function(){t(this).delay(1500).queue(function(e){t(this).popover("hide"),e()})}})}(jQuery)};!function(t){t.fn.extend({jEditMakeAbsolute:function(e){return this.each(function(){var o,i=t(this);o=e?i.offset():i.position(),i.css({position:"absolute",marginLeft:0,marginTop:0,top:o.top,left:o.left,bottom:"auto",right:"auto"}),e&&i.detach().appendTo("body")})}}),t(document).ready(frontEditing)}(jQuery);